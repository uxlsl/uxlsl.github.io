---
layout: post
title: python的惯用法
category: python
keywords: 学习,2015
---

# python的惯用法

> 掌握惯用法，可以让我们写出更加专业和精简的程序。[1]

## 惯用法包含以下

+ 数据交换建设不使用中间值.
+ 充分利用lazy evaluation.
+ 明确is与==使用场景.
+ 不推荐使用type来进行类型检查.
+ 使用enumerate来进行类型检查.
+ 尽量使用float类型进行除法运算。
+ 尽可能使用unicode.


### 数据交换建设不使用中间值.
```
# 交换值 1
a,b = b,a
# 交换值 2
temp = x
x = y
y = temp

```
*理由*
代码更少，维护更容易,充分使用了解包性质,同时有可能提高性能。

### 充分利用lazy evaluation（惰性求值）
惰性求值可能有几种情况

1. and, x and y ,x为false，y 就不计算了。
2. or，　x or y, x为true,y就不计算了。
3. yield 如xrange

1-2二种情况可以把可能性最高的放在最前面，
1. x为最有可能为false放在最前面
2. x为最有可能为true放在最前面

小结：优化可能是无用功，此时正确，过后就有可能不正确，要有人员经常去维护。
3. 生成一些数时，可以使用这个方法.
实实在在节省空间，同时分离各个操作层次，从而使代码变得更加容易看懂。

```

def fib():
    a, b = 0, 1
    while True:
        yield a
        a, b = b, a+b

from itertools import isslice
print list(isslice(fib(), 5))
```
