---
layout: post
title: 编写高质量代码-改善Python程序的91个建议重看
category: 学习
keywords: 学习,2018
---

# 编写高质量代码-改善Python程序的91个建议重看


## wiki 的quicksort 可以轻松转为python

```

def quicksort(array):
    less = []
    greater = []
    if len(array) <= 1:
        return array
    pivot = array.pop()
    for x in array:
        if x <= pivot:
            less.append(x)
        else:
            greater.append(x)
    return quicksort(less) + [pivot] + quicksort(greater)


```


## import 一个包与sys.modules 关系,命名空间冲突

当import 一个包时，sys.modules就有相应的记录


c1.py

```

from c2 import g

def x():
    pass

```

c2.py

```

from c1 import x

def g():
    pass


```

python c1.py


Traceback (most recent call last):
  File "c1.py", line 1, in <module>
    from c2 import g
  File "/home/lin/work/test/bar/c2.py", line 1, in <module>
    from c1 import x
  File "/home/lin/work/test/bar/c1.py", line 1, in <module>
    from c2 import g
ImportError: cannot import name 'g' from 'c2' (/home/lin/work/test/bar/c2.py)

解决嵌套导入问题的一个方法是直接使用import语句

## ++i 没有语法错误
